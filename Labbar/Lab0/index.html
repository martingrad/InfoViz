<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

        <style>
        div.bar {
            display: inline-block;
            width: 20px;
            height: 75px;   /* We'll override this later */
            background-color: teal;
            margin-right: 2px;
        }

        .pumpkin {
            fill: yellow;
            stroke: orange;
            stroke-width: 5;
        }
        </style>

    </head>
    <body>
        <script type="text/javascript">
            //d3.select("body").append("p").text("New paragraph!");

            // Different datasets
            // var dataset = [5,10,15,20,25];
            //var dataset = [25, 7, 5, 26, 11];
            //var dataset = [ 25, 7, 5, 26, 11, 8, 25, 14, 23, 19, 14, 11, 22, 29, 11, 13, 12, 17, 18, 10, 24, 18, 25, 9, 3 ];
            var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13, 11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];
            // Generate random dataset
            // console.log(dataset)
            // var dataset = [];                        //Initialize empty array
            // for (var i = 0; i < 25; i++) {           //Loop 25 times
            //     var newNumber = Math.random() * 30;  //New random number (0-30)
            //     //dataset.push(newNumber);             //Add new number to array (floating number ex. 6.111111)
            //     dataset.push(Math.round(newNumber));   // int/heltal
            // }

            /* Display 5 rows (size of dataset) displaying the values in the dataset*/
            // console.log("p")
            // d3.select("body")
            //     .selectAll("p")
            //     .data(dataset1)
            //     .enter()
            //     .append("p")
            //     .text(function(d){return "I can count up to " + d;})
            //     //.text(function(d) {return d;} );            // d is magical and can be used when data() is used 
            //     //.text("New paragraph");
            //     //.style("color","red");
            //     .style("color", function(d){
            //         if(d>15){
            //             return "red";
            //         }
            //         else{
            //             return "black";
            //         }
            //     });
            
            /* Create 5 columns, which css is described in <head></head> */
            // console.log("div")
            // d3.select("body").selectAll("div")
            //     .data(dataset)
            //     .enter()
            //     .append("div")
            //     .attr("class", "bar")
            //     //.style("height", function(d) {return d + "px";});       //px - the unit is in pixels
            //     .style("height", function(d) {
            //         var barHeight = d * 5;
            //         return barHeight + "px";
            //     });

            // /* Create svg with d3 */
            // var w = 500;
            // var h = 50;

            // var svg = d3.select("body").append("svg");
            // svg.attr("width", w)
            //     .attr("height",h);
            // var circles = svg.selectAll("circle").data(dataset1).enter().append("circle");
            // circles.attr("cx", function(d, i) {
            //     return (i * 50) + 25;           // radie för x --> 25,75,127,175,225
            // })
            //     .attr("cy", h/2)        //height/2 radie för y
            // .attr("r", function(d) {
            // return d;
            // });

            // // add attributes to the circles
            // circles.attr("fill", "yellow")
            // .attr("stroke", "orange")
            // .attr("stroke-width", function(d) {
            //     return d/2;
            // });

            /* Stapel diagram */
            // var w = 500;
            // var h = 100;
            // var barPadding = 1;
            // //Create SVG element
            // var svg = d3.select("body")
            //             .append("svg")
            //             .attr("width", w)
            //             .attr("height", h);
            // var rectangles = svg.selectAll("rect")
            //                     .data(dataset)
            //                     .enter()
            //                     .append("rect")
            //                     .attr("x", 0)
            //                     .attr("y", 0)
            //                     .attr("width", 20)
            //                     .attr("height", 100);

            // rectangles.attr("x", function(d, i) {
            //     return i * 21;  //Bar width of 20 plus 1 for padding
            // });
            // rectangles.attr("x", function(d, i) {
            //     return i * (w / dataset.length);
            // });
            // rectangles.attr("width", w / dataset.length - barPadding);
            // rectangles.attr("height", function(d) {
            //     return d;
            // });
            // rectangles.attr("height", function(d) {
            //     return d * 4;  // <-- Times four!
            // });

            // rectangles.attr("y", function(d) {
            //     return h - (d*4);  //Height minus data value
            // });

            // rectangles.attr("height", function(d) {
            //     return d*4;  //Just the data value
            // });
            // rectangles.attr("fill", "teal");
            // rectangles.attr("fill", function(d) {
            //     return "rgb(0, 0, " + (d * 10) + ")";
            // });

            // var text = svg.selectAll("text")
            //             .data(dataset)
            //             .enter()
            //             .append("text");

            // text.text(function(d) {
            //     return d;
            // });

            // text.attr("x", function(d, i) {
            //     return i * (w / dataset.length);
            // });
            // text.attr("y", function(d) {
            //     return h - (d * 4);
            // });

            // // move the text down so that it is not cut off by the margin...
            // text.attr("x", function(d, i) {
            //     return i * (w / dataset.length) + 5;  // +5
            // });
            // text.attr("y", function(d) {
            //     return h - (d * 4) + 15;              // +15
            // });

            // //make the text white so that it can be viewved 
            // text.attr("font-family", "sans-serif")
            //     .attr("font-size", "11px")
            //     .attr("fill", "white")
            //     .attr("text-anchor", "middle");

            // text.attr("x", function(d, i) {
            //     return i * (w / dataset.length) + (w / dataset.length - barPadding) / 2;
            // });

            // text.attr("y", function(d) {
            //     return h - (d * 4) + 14;  //15 is now 14
            // });

            /* Scatterplot */
            // var w = 500;
            // var h = 100;

            // var dataset = [
            //       [ 5,     20 ],
            //       [ 480,   90 ],
            //       [ 250,   50 ],
            //       [ 100,   33 ],
            //       [ 330,   95 ],
            //       [ 410,   12 ],
            //       [ 475,   44 ],
            //       [ 25,    67 ],
            //       [ 85,    21 ],
            //       [ 220,   88 ]
            //   ];

            //   //Create SVG element
            // var svg = d3.select("body")
            // .append("svg")
            // .attr("width", w)
            // .attr("height", h);

            // var circle = svg.selectAll("circle")
            //     .data(dataset)
            //     .enter()
            //     .append("circle");

            // circle.attr("cx", function(d) {
            //     return d[0];
            // });
            // circle.attr("cy", function(d) {
            //     return d[1];
            // });
            // circle.attr("r", 5);
            
            // circle.attr("r", function(d) {
            //     return Math.sqrt(h - d[1]);
            // });

            // var text = svg.selectAll("text")
            //             .data(dataset)
            //             .enter()
            //             .append("text");
            // text.text(function(d) {
            //     return d[0] + "," + d[1];
            // });

            // text.attr("x", function(d) {
            //     return d[0];
            // });
            // text.attr("y", function(d) {
            //     return d[1];
            // });

            // // font styling
            // text.attr("font-family", "sans-serif")
            //     .attr("font-size", "11px")
            //     .attr("fill", "red");
            //Width and height
            var w = 500;
            var h = 100;
            
            var dataset = [
                            [5, 20], [480, 90], [250, 50], [100, 33], [330, 95],
                            [410, 12], [475, 44], [25, 67], [85, 21], [220, 88]
                          ];

            //Create scale functions
            var xScale = d3.scale.linear()
                                 .domain([0, d3.max(dataset, function(d) { return d[0]; })])
                                 .range([0, w]);

            var yScale = d3.scale.linear()
                                 .domain([0, d3.max(dataset, function(d) { return d[1]; })])
                                 .range([0, h]);
    
            //Create SVG element
            var svg = d3.select("body")
                        .append("svg")
                        .attr("width", w)
                        .attr("height", h);

            svg.selectAll("circle")
               .data(dataset)
               .enter()
               .append("circle")
               .attr("cx", function(d) {
                    return xScale(d[0]);
               })
               .attr("cy", function(d) {
                    return yScale(d[1]);
               })
               .attr("r", function(d) {
                    return Math.sqrt(h - d[1]);
               });

            svg.selectAll("text")
               .data(dataset)
               .enter()
               .append("text")
               .text(function(d) {
                    return d[0] + "," + d[1];
               })
               .attr("x", function(d) {
                    return xScale(d[0]);
               })
               .attr("y", function(d) {
                    return yScale(d[1]);
               })
               .attr("font-family", "sans-serif")
               .attr("font-size", "11px")
               .attr("fill", "red");




        </script>

        
        
    </body>
    <footer>
        <!-- Create different shapes the old fasion way-->
        <!-- <svg width="500" height="500">  -->     
        <!-- Create an svg element canvas --> 
            <!-- Rectangle with with left-corner in (0,0), width 500, height 50, color #3388aa -->
            <!-- <rect x="0" y="0" width="500" height="50" fill="#3388aa"/>       -->

            <!-- Circle with color rgb(10,150,20) with centerpoint (250,200) and radius 25 -->
            <!-- <circle cx="250" cy="200" r="25" fill="rgb(10,150,20)"/>                   -->

            <!-- Ellipse with centerpoint (250,100) and radius in x,y is (100,25)-->
            <!-- <ellipse cx="250" cy="100" rx="100" ry="25" fill="rgba(10, 150, 20, 0.5)"/> -->

            <!-- Line -->
            <!-- <line x1="0" y1="0" x2="500" y2="50" stroke="green"/> -->
            <!-- <text x="250" y="155" font-family="sans-serif" font-size="25" fill="gray">Easy-peasy</text> -->

            <!-- Circle with a border around it,  centerpoint(250,100)--> 
            <!-- <circle cx="250" cy="100" r="22" fill="yellow" stroke="black" stroke-width="5"/> -->

            <!-- Alternativt att skriva en klass och därmed kunna skriva mer i en css-fil -->
            <!-- <circle cx="25" cy="25" r="22" class="pumpkin"/> -->

            <!-- <rect x="0" y="0" width="30" height="30" fill="purple"/> -->
            <!-- <rect x="20" y="5" width="30" height="30" fill="blue"/> -->
            <!-- <rect x="40" y="10" width="30" height="30" fill="green"/> -->
            <!-- <rect x="60" y="15" width="30" height="30" fill="yellow"/> -->
            <!-- <rect x="80" y="20" width="30" height="30" fill="red"/> -->


            <!-- <circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 1.0)"/> -->
            <!-- <circle cx="50" cy="25" r="20" fill="rgba(0, 0, 255, 0.75)"/> -->
            <!-- <circle cx="75" cy="25" r="20" fill="rgba(0, 255, 0, 0.5)"/> -->
            <!-- <circle cx="100" cy="25" r="20" fill="rgba(255, 255, 0, 0.25)"/> -->
            <!-- <circle cx="125" cy="25" r="20" fill="rgba(255, 0, 0, 0.1)"/> -->

            <!-- opacity -> 0.75 * 0.5 för mitten, för kanten runt 0.25*0.5 -->
            <!-- <circle cx="25" cy="25" r="20" fill="rgba(128, 0, 128, 0.75)" stroke="rgba(0, 255, 0, 0.25)" stroke-width="10" opacity="0.5"/>   -->
            <!-- <circle cx="75" cy="25" r="20" fill="rgba(0, 255, 0, 0.75)" stroke="rgba(0, 0, 255, 0.25)" stroke-width="10" opacity="0.5" /> -->
            <!-- <circle cx="125" cy="25" r="20" fill="rgba(255, 255, 0, 0.75)" stroke="rgba(255, 0, 0, 0.25)" stroke-width="10" opacity="0.5"/> -->

        <!-- </svg> -->
    </footer>
</html> 